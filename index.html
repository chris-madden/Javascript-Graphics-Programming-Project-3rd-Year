<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <title>Canvas</title>

    <style type="text/css">
        body {
            background-color: white;
        }
        
        canvas {
            border: 2px solid black;
        }
    </style>

</head>

<body>

  <canvas id="canvasOne"></canvas>

<script type="text/javascript">
    
    // Gets a handle to the element with id canvasOne.
    var canvas = document.getElementById("canvasOne");

    // Set the canvas up for drawing in 2D.
    var ctx = canvas.getContext("2d");

    //Resizes canvas when file opened
    function onLoad() {
        canvas.width = 600;
        canvas.height = 800;
        drawUserShip();
    }
    
     //Object for the user Ship
    var userShipObject = {
        
        shipTopPosition: {
            
            x: 300,
            y: 700
            
        },
        
        shipLeftPostiton: {
            
            x: 275,
            y: 725
            
        },
        
        shipRightPosition: {
            
            x: 325,
            y: 725
        
        },
        
        acceleration: {
            
            x: 1,
            y: 0
            
        },
        
         move: function () {

                userShipObject.shipTopPosition.x += 0.1;
                userShipObject.shipLeftPostiton.x += 0.1;
                userShipObject.shipRightPosition.x += 0.1;
            }
        

    }//End of userShipObject

    //Draws the users ship to the canvas
    function drawUserShip()
    {
        //Clear the canvas each time method is called
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        //Start path for drawing ship
        ctx.beginPath(); 
        
        //Position the top of ship will be at
        ctx.moveTo(userShipObject.shipTopPosition.x, userShipObject.shipTopPosition.y); 
        
        //Draw line to left corner of ship
        ctx.lineTo(userShipObject.shipLeftPostiton.x, userShipObject.shipLeftPostiton.y); 
        
        //Draw line to right corner of ship
        ctx.lineTo(userShipObject.shipRightPosition.x, userShipObject.shipRightPosition.y); 
        
        //Colour in the ship
        ctx.fill();
    }
    
   
    
        /*
        //Constructor in javascript
        function Rect(x, y, w, h)
        {
            this.x = x;
            this.y = y;
            this.w = w;
            this.h = h;
            this.draw = function()
            {
            
               ctx.fillStyle = 'rgb(0, 0, 255)';
               ctx.fillRect(this.x, this.y, this.w, this.h);
            
            }
            
            this.hitBall = function()
            {
            
                if(ball.position.x >= this.x && ball.position.x <= this.x + this.w)
                {
                
                     if(ball.position.y >= this.y && ball.position.y <= this.y + this.h)
                    {
                
                        this.active = false;
                
                    }//End inner if
                
                }//End outer if
            
            }
        }
        
        //Same as creating a new instance of a class
        var rect = new Rect();

        //Resizes canvas
        function init() {
            canvas.width = 400;
            canvas.height = 400;
            ball.draw();
            requestAnimationFrame(step);
        }

        var draw = function () {

            // Draw the ball (stroked, not filled).
            ctx.fillStyle = 'rgb(255, 0, 0)';
            ctx.beginPath();
            ctx.arc(this.position.x, this.position.y, this.r, 0, 2 * Math.PI);
            ctx.fill();

        }

        //Ball object
        var ball = {

            r: 10,
            position: {
                x: 10,
                y: 10
            },
            velocity: {
                x: 0,
                y: 5
            },
            acceleration: {
                x: 0,
                y: 1
            },
            draw: draw,
            move: function () {

                this.position.x += this.velocity.x;
                this.position.y += this.velocity.y;
                this.position.x += this.acceleration.x;
                this.position.y += this.acceleration.y;

            }
            
        }//End ball object
        
        var rects = [];
        
        for(var i = 0; i < 10; i++)
        {
            //rects[i].hitBall();
            //Randomly create different rectangles
            rects.push(new Rect(Math.random() * 400, Math.random() * 400, 30, 6));
        
        }
        
        //Add parameter and log it and you'll see how long it's been since your last frame
        function step()
        {
        
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            for(var i = 0; i < rects.length; i++)
            {
            
                rects[i].draw();
            
            }
            
            ball.move();
            ball.draw();
            requestAnimationFrame(step);
        
        }
        
        step();
        */
        
         //Initialise size of canvas
        onLoad();
    
        function step()
        {
        
            //ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            /*for(var i = 0; i < rects.length; i++)
            {
            
                rects[i].draw();
            
            }*/
            
            drawUserShip();
            userShipObject.move();
            requestAnimationFrame(step);
        
        }
        
        step();
        
    </script>

</body>

</html>