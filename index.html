<!DOCTYPE html>

<html>

<head>
    <meta charset="UTF-8">
    <title>Canvas</title>

    <style type="text/css">
        body {
            background-color: white;
        }
        
        canvas {
            border: 2px solid black;
        }
    </style>

</head>

<body>

  <canvas id="canvasOne"></canvas>

<script type="text/javascript">
    
    // Gets a handle to the element with id canvasOne.
    var canvas = document.getElementById("canvasOne");

    // Set the canvas up for drawing in 2D.
    var ctx = canvas.getContext("2d");

    //Resizes canvas when file opened
    function onLoad() {
        canvas.width = 600;
        canvas.height = 800;
        drawUserShip();
    }
    
     //Object for the user Ship
    var userShipObject = {
        
        shipTopPosition: {
            
            x: 300,
            y: 700
            
        },
        shipLeftPostiton: {
            
            x: 275,
            y: 725
            
        },
        shipRightPosition: {
            
            x: 325,
            y: 725
        
        },  
        acceleration: {
            
            x: 8,
            y: 0
            
        },
        moveRight: function () {
            
            //Move the ship to the right along the x axis to the speed set in the acceleration object
            userShipObject.shipTopPosition.x += userShipObject.acceleration.x;
            userShipObject.shipLeftPostiton.x += userShipObject.acceleration.x;
            userShipObject.shipRightPosition.x += userShipObject.acceleration.x;
        },
        moveLeft: function(){
            
            //Move the ship to the left along the x axis to the speed set in the acceleration object
            userShipObject.shipTopPosition.x -= userShipObject.acceleration.x;
            userShipObject.shipLeftPostiton.x -= userShipObject.acceleration.x;
            userShipObject.shipRightPosition.x -= userShipObject.acceleration.x;
        }
        
    }//End of userShipObject

    //Draws the users ship to the canvas
    function drawUserShip()
    {
        //Clear the canvas each time method is called
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        
        //Start path for drawing ship
        ctx.beginPath(); 
        
        //Position the top of ship will be at
        ctx.moveTo(userShipObject.shipTopPosition.x, userShipObject.shipTopPosition.y); 
        
        //Draw line to left corner of ship
        ctx.lineTo(userShipObject.shipLeftPostiton.x, userShipObject.shipLeftPostiton.y); 
        
        //Draw line to right corner of ship
        ctx.lineTo(userShipObject.shipRightPosition.x, userShipObject.shipRightPosition.y); 
        
        //Colour in the ship
        ctx.fill();
    }

    //Initialise size of canvas
    onLoad();

    //Repeated function which takes care of the animation frames
    function step()
    {

        drawUserShip();
        requestAnimationFrame(step);

    }

    //Adding an event listener so user can use keys to move ship
    window.addEventListener("keydown", function(event) { 

        //If right arrow key is pressed
        if (event.keyCode == 39)
        {     
            //Move the ship to the right
            userShipObject.moveRight();       
        }
        else if(event.keyCode == 37)//If left arrow key is pressed
        {
            userShipObject.moveLeft();
        }
     
    });//End event listener
      
    //Call the step method 
    step();
        
    </script>

</body>

</html>